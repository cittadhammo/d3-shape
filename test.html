<html>
    <head>
        <script src="https://cdn.jsdelivr.net/npm/d3-selection@3"></script>
        <script src="https://cdn.jsdelivr.net/npm/d3-path@3"></script>
        <script src="dist/d3-shape.js"></script> <!-- contains our modify padAngle function made with rollup -->
        <!-- to create the dist folder use :
            
            - npm install --global rollup
            - rollup -c
            - npm install --global http-server
            - http-server
            
            -> navigate to test.html

            - note that it is not wokring with d3.pie
        --> 
    </head>
    <body>
        <svg width="1000" height="1000">
            <g transform="translate(500, 500)"></g>
        </svg>

        <script>

        let r = 150, 
        R = R2 = 450,
        pi = Math.PI,
        cx = 0,
        cy = 0,
        a = 0.2,
        b = 2,
        c = (b-a)/2, // abs needed ?
        e = (a+b)/2,
        gPadAngle = 0.05;

        const gp = Math.sqrt(r * r + R * R) *  Math.sin(gPadAngle),
        gr = gp /  Math.sin(c);
        if  (gp != 0) (cx += gr *  Math.sin(e)), (cy -= gr *  Math.cos(e)), (R2 -= gr);
        console.log(gr);
        
        // with group padding
        // carefull this change the center of the arc and dosen't align the sector very well
        // let gp = Math.sqrt(r * r + R * R) * Math.sin(gPadAngle),
        // let gr = 50;
        // gr = gp / Math.sin(c);
        // (gr != 0) (cx += gr * Math.sin(e)), (cy -= gr * Math.cos(e));   
                
        // Create an arc generator with configuration https://www.d3indepth.com/shapes/
        var arcGenerator1 = d3.arc()
        .innerRadius(r)
        .outerRadius(R);
        
        var arcGenerator2 = d3.arc()
        .innerRadius(r)
        .outerRadius(R2)
        //.gR(gr);
        //.gPadAngle(gp)

        var arcGenerator3 = d3.arc() 
        .innerRadius(r)
        .outerRadius(R2)
        .gR(gr);
        //.gPadAngle(gp)


        var arcData = [
            {startAngle: a, endAngle: b}
            //{startAngle:pi/2, endAngle: 2*pi/2},
            //{startAngle: 2*pi/2, endAngle: 3*pi/2},
            //{startAngle: 3*pi/2, endAngle: 4*pi/2}
        ];

        // Create a path element and set its d attribute
        d3.select('g')
            .selectAll('path')
            .data(arcData)
            .join('path')
            .attr('d', arcGenerator1).attr('fill', 'none')
            .attr('stroke', 'black')
            .clone()
            .attr('d', arcGenerator2)
            .attr('stroke', 'blue')
            .attr('transform', `translate(${cx},${cy})`)
            .clone()
            .attr('d', arcGenerator3)
            .attr('stroke', 'red')
            //.attr('transform', 'translate(40,40)')
            //.attr('transform', `translate(${cx},${cy})`)

            
                
        </script>
    </body>
</html>